<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic">
    <sys_cb_design_topic action="INSERT_OR_UPDATE">
        <compiled_topic display_value="Update NeedIt Records">8ccc7a8b2f203010d8fb2c6df699b68d</compiled_topic>
        <design_definition>{"type":"FlowTopic","triggers":[{"type":"Trigger","name":"f2cd2e82d2a647ef9faf4e2c725859e4","triggerType":"request","applicability":{"type":"Applicability","mode":"script","value":"true"},"id":"f2cd2e82d2a647ef9faf4e2c725859e4"}],"goals":[{"name":"primary","trigger_id":"f2cd2e82d2a647ef9faf4e2c725859e4","nodes":[{"type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","mode":"string","value":"gs.getMessageLang(\"I can help you find and update NeedIt records for a type of request.\", vaContext.getRequesterLang())"},"id":"9189dbdb24e94cbcae1c827cf8512049","name":"Start"},{"type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","mode":"string","value":"gs.getMessageLang(\"Ask again when you need to update other NeedIt records.\", vaContext.getRequesterLang())"},"id":"472cd1bfdd844ba29b2d3f66e6822526","name":"End"},{"type":"ChoiceInputPrompt","expression_mode":"simple","id":"e9c44a3c5a854682a3d86c7914432ddb","name":"Needit Type","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"variable_id":"c65f61a0e1f04bfa9a244f31e44b33a3","message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"Which type of NeedIt record would you like to view?\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"OutputPrompt","value":{"type":"String","mode":"script","value":"(function execute() {\n    //Return the display value (Label) for the needit_type choice\n    return'You selected: ' +\n    vaInputs.needit_type.getDisplayValue();\n})()\n"},"id":"f60254f36fc34ef4b2a49bbf842a6d9a","name":"Confirm NeedIt Type","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ReferenceChoiceInputPrompt","mode":"external","id":"6eafef8743b946d38750ab0b26ae7f75","name":"NeedIt List","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"variable_id":"3307e6d9c6d54213815c2197a536cb58","message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"Select a NeedIt record to view.\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"expression_mode":"script","script":"(function execute(table) {\n    //Initialize an array for the list of NeedIt records to show\n    var options = []; // add options here...\n    //Query the table seleceted in the Table field for active records with the\n    //u_request_type selected in the NeedIt Type node where the user is the\n    //u_requested_for . Order the results by the When needed value.\n    var grNI = new GlideRecord(table);\n    \n    grNI('u_request_type', vaInputs.needit_type.getValue());\n    grNI.addQuery('active', 'true');\n    grNI.addQuery('u_requested_for',vaInputs.user);\n    grNI.orderBy('u_when_needed');\n    grNI.query();\n\n    //Push a value and label pair to the array for each record the query returns.\n    //The value is the unique value. the label is the number, u_when_needed, and\n    //short_description values for the NeedIt record. \n    while(grNI.next()){\n        options.push({ 'value': grNI.getUniqueValue(), 'label':grNI.getValue('number')+\"(\" + \n        grNI.getClassDisplayValue('u_when_needed')+\"):\" + grNI.getValue('short_description')})\n    }    \n    return options;\n})(table)\n","no_options_found_message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"You have no open NeedIt records.\", vaContext.getRequesterLang())"},"condition":{"type":"Condition","mode":"glide_scripted_query","value":"(function execute(table) {\n    //Initialize an array for the list of NeedIt records to show\n    var options = []; // add options here...\n    //Query the table seleceted in the Table field for active records with the\n    //u_request_type selected in the NeedIt Type node where the user is the\n    //u_requested_for . Order the results by the When needed value.\n    var grNI = new GlideRecord(table);\n    \n    grNI('u_request_type', vaInputs.needit_type.getValue());\n    grNI.addQuery('active', 'true');\n    grNI.addQuery('u_requested_for',vaInputs.user);\n    grNI.orderBy('u_when_needed');\n    grNI.query();\n\n    //Push a value and label pair to the array for each record the query returns.\n    //The value is the unique value. the label is the number, u_when_needed, and\n    //short_description values for the NeedIt record. \n    while(grNI.next()){\n        options.push({ 'value': grNI.getUniqueValue(), 'label':grNI.getValue('number')+\"(\" + \n        grNI.getClassDisplayValue('u_when_needed')+\"):\" + grNI.getValue('short_description')})\n    }    \n    return options;\n})(table)\n"}},{"type":"RecordOutputPrompt","mode":"variable","table":"x_58872_needit_needit","variable_id":"3307e6d9c6d54213815c2197a536cb58","fields":["priority","short_description","u_when_needed"],"id":"6f624f30bbd94181aabb850b21022a1b","name":"NeedIt Card","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"condition":{"type":"Condition","mode":"glide_query","value":""}},{"type":"InputPrompt","variable_id":"f8139632cc2c49c3b3f9bbce1fad3696","message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"Would you like to view another NeedIt Record?\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","mode":"script","value":"false"},"id":"f7b13d8d8088441995e24ecc592c2bb9","name":"Search Again","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","name":"Find more NeedIt records","branches":[{"type":"Branch","label":"No","expression":{"type":"Applicability","mode":"query","value":"search_again="},"id":"4a5739d757924da0bdf4ebeb3ed40deb","name":"No"},{"type":"Branch","label":"Yes","expression":{"type":"Applicability","mode":"query","value":"search_again=true"},"id":"4aeb6c1daeb24dbbbfef4c4e4b6fc284","name":"Yes"}],"id":"bdfd8289aa79428583fbcbad82e55d96","goal_id":"primary"},{"type":"InputPrompt","variable_id":"b954831361764eb0bf19f8a6b7d12de4","message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"When do you need the NeedIt completed?\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","mode":"script","value":"false"},"id":"7fc05d6ca4c6424c9a7b28cfc06e7fa6","name":"New When Needed Date","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"CRUDAction","mode":"update","query":"u_when_needed={{vaInputs.new_when_needed_date}}","variable_id":"3307e6d9c6d54213815c2197a536cb58","id":"cb47495a5a4147019cf39877462f370d","name":"Change When Needed Date","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"ChoiceInputPrompt","expression_mode":"simple","id":"8ecacceb71a546b2a14b2ba320f187b6","name":"What Do You Need","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"variable_id":"ee1ff7d0d11a47b886b4a3d013fb2597","message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"Please select what you need to update\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"When Needed","expression":{"type":"Applicability","mode":"query","value":"what_do_you_need=when needed date"},"id":"510a681269aa40e5b8a9788befdf9aa9","name":"When Needed"},{"type":"Branch","label":"Nothing","expression":{"type":"Applicability","mode":"query","value":"what_do_you_need=nothing"},"id":"228e68a60b784d7d9fdcc9249d0b4e6e","name":"Nothing"},{"type":"Branch","label":"Update Short Description","expression":{"type":"Applicability","mode":"query","value":"what_do_you_need=short description"},"id":"f26a74ba05a74b44a752a36ea32db0d2","name":"Update Short Description"},{"type":"Branch","label":"Comment","expression":{"type":"Applicability","mode":"query","value":""},"id":"dfd76d28b628452eb10f5864fea69336","name":"Comment"}],"id":"b77fb2d74f8742009fa709930a25ca3b","goal_id":"primary"},{"type":"InputPrompt","variable_id":"c7db3c72aa7542e9be40759237175985","message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"Provide a new short description\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","mode":"script","value":"false"},"id":"98ce54e5ebaf4b42a8d0c10637c2b864","name":"New the Short Description","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"CRUDAction","mode":"update","query":"short_description={{vaInputs.new_the_short_description}}","variable_id":"3307e6d9c6d54213815c2197a536cb58","id":"040fa1d70dd7485a8c982f022ad24b0e","name":"Update Short Description","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"InputPrompt","variable_id":"5e667a3521e84c72960ec5ce1e50acf3","message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"Leave a comment on the ticket?\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","mode":"script","value":"false"},"id":"c6d66b5329934838871b249c3f40e231","name":"Leave Comment","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"CRUDAction","mode":"update","query":"comments_and_work_notes={{vaInputs.leave_comment}}","variable_id":"3307e6d9c6d54213815c2197a536cb58","id":"0f64b224052049be9ab84b590c2f3ba2","name":"Leave Comment on ticket","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"RecordOutputPrompt","mode":"variable","table":"x_58872_needit_needit","variable_id":"3307e6d9c6d54213815c2197a536cb58","fields":["active","short_description","u_when_needed","comments_and_work_notes"],"id":"33e9b87be55e4e58b9ff4d3e5cdd48b8","name":"Updated NeedIt Card Return","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"condition":{"type":"Condition","mode":"glide_query","value":""}},{"type":"InputPrompt","variable_id":"f712dd83bd334f48828541011e1aefc3","message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"Would you like to make another change?\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","mode":"script","value":"false"},"id":"1cb28525813b4ee39a8081b7bfb6d2bd","name":"Make Another Change","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","name":"Another Change?","branches":[{"type":"Branch","label":"No","expression":{"type":"Applicability","mode":"query","value":"make_another_change="},"id":"525606759b734d29abb088326e14abca","name":"No"},{"type":"Branch","label":"Yes","expression":{"type":"Applicability","mode":"query","value":"make_another_change=true"},"id":"b9360beaab9947babcadd388bb97a3b3","name":"Yes"}],"id":"cdd0db28e6b845d2a2528b966bb6969b","goal_id":"primary"}],"edges":[{"type":"Edge","source_node_id":"cb47495a5a4147019cf39877462f370d","target_node_id":"33e9b87be55e4e58b9ff4d3e5cdd48b8","id":"ca17b4d429e14bfe8655fc060fc93ecc"},{"type":"Edge","source_node_id":"f7b13d8d8088441995e24ecc592c2bb9","target_node_id":"bdfd8289aa79428583fbcbad82e55d96","id":"aa264ac1d7fc47ffbf41d74d7a084535"},{"type":"Edge","source_node_id":"9189dbdb24e94cbcae1c827cf8512049","target_node_id":"e9c44a3c5a854682a3d86c7914432ddb","id":"a72ddc9c888f4762998fe8b4b24182ec"},{"type":"Edge","source_node_id":"e9c44a3c5a854682a3d86c7914432ddb","target_node_id":"f60254f36fc34ef4b2a49bbf842a6d9a","id":"f616f672fab3428f92bbc4b6835dacb7"},{"type":"Edge","source_node_id":"f60254f36fc34ef4b2a49bbf842a6d9a","target_node_id":"6eafef8743b946d38750ab0b26ae7f75","id":"58cbf2f49e3547e0a1af1278513e0dde"},{"type":"Edge","source_node_id":"6eafef8743b946d38750ab0b26ae7f75","target_node_id":"6f624f30bbd94181aabb850b21022a1b","id":"0605469480b2424eaf2cf2eb42eeec49"},{"type":"Edge","source_node_id":"bdfd8289aa79428583fbcbad82e55d96","target_node_id":"472cd1bfdd844ba29b2d3f66e6822526","branch_id":"4a5739d757924da0bdf4ebeb3ed40deb","id":"f29773058a2d4d3495589477e86fc093","name":"4a5739d757924da0bdf4ebeb3ed40deb"},{"type":"Edge","source_node_id":"bdfd8289aa79428583fbcbad82e55d96","target_node_id":"e9c44a3c5a854682a3d86c7914432ddb","branch_id":"4aeb6c1daeb24dbbbfef4c4e4b6fc284","id":"3a415efd2d2649318bb4362379adc7ad","name":"4aeb6c1daeb24dbbbfef4c4e4b6fc284"},{"type":"Edge","source_node_id":"7fc05d6ca4c6424c9a7b28cfc06e7fa6","target_node_id":"cb47495a5a4147019cf39877462f370d","id":"2b256f42b3184521aed5060550d90ad5"},{"type":"Edge","source_node_id":"6f624f30bbd94181aabb850b21022a1b","target_node_id":"8ecacceb71a546b2a14b2ba320f187b6","id":"7b84c5f7afda46bb8c996c620ae94b39"},{"type":"Edge","source_node_id":"8ecacceb71a546b2a14b2ba320f187b6","target_node_id":"b77fb2d74f8742009fa709930a25ca3b","id":"796e6e26ef074c81b8a7eb3881760797"},{"type":"Edge","source_node_id":"b77fb2d74f8742009fa709930a25ca3b","target_node_id":"7fc05d6ca4c6424c9a7b28cfc06e7fa6","branch_id":"510a681269aa40e5b8a9788befdf9aa9","id":"8541029aca49452089bbbc43cae206af","name":"510a681269aa40e5b8a9788befdf9aa9"},{"type":"Edge","source_node_id":"b77fb2d74f8742009fa709930a25ca3b","target_node_id":"472cd1bfdd844ba29b2d3f66e6822526","branch_id":"228e68a60b784d7d9fdcc9249d0b4e6e","id":"6c5ab68140bc488caf261c4ed0a5a7bb","name":"228e68a60b784d7d9fdcc9249d0b4e6e"},{"type":"Edge","source_node_id":"b77fb2d74f8742009fa709930a25ca3b","target_node_id":"98ce54e5ebaf4b42a8d0c10637c2b864","branch_id":"f26a74ba05a74b44a752a36ea32db0d2","id":"4aeb06c644904f7a8f32980c43de2de2","name":"f26a74ba05a74b44a752a36ea32db0d2"},{"type":"Edge","source_node_id":"98ce54e5ebaf4b42a8d0c10637c2b864","target_node_id":"040fa1d70dd7485a8c982f022ad24b0e","id":"b6039ee3301843c0b43fb49381fc9cf5"},{"type":"Edge","source_node_id":"b77fb2d74f8742009fa709930a25ca3b","target_node_id":"c6d66b5329934838871b249c3f40e231","branch_id":"dfd76d28b628452eb10f5864fea69336","id":"692d486bfb10473ab9d18d5db4fbfba3","name":"dfd76d28b628452eb10f5864fea69336"},{"type":"Edge","source_node_id":"c6d66b5329934838871b249c3f40e231","target_node_id":"0f64b224052049be9ab84b590c2f3ba2","id":"2a56b73886ae4e0ab455b792efa4dfc7"},{"type":"Edge","source_node_id":"0f64b224052049be9ab84b590c2f3ba2","target_node_id":"33e9b87be55e4e58b9ff4d3e5cdd48b8","id":"b789a0d2183a46e2a9d58134b0658504"},{"type":"Edge","source_node_id":"040fa1d70dd7485a8c982f022ad24b0e","target_node_id":"33e9b87be55e4e58b9ff4d3e5cdd48b8","id":"c4dcf54b3c6d4adeb50255ca50644f1c"},{"type":"Edge","source_node_id":"33e9b87be55e4e58b9ff4d3e5cdd48b8","target_node_id":"1cb28525813b4ee39a8081b7bfb6d2bd","id":"734b0e7915ea4839a23a3978a5ae7cce"},{"type":"Edge","source_node_id":"1cb28525813b4ee39a8081b7bfb6d2bd","target_node_id":"cdd0db28e6b845d2a2528b966bb6969b","id":"238e7af8a0a94cfea2921f5672bb3e47"},{"type":"Edge","source_node_id":"cdd0db28e6b845d2a2528b966bb6969b","target_node_id":"f7b13d8d8088441995e24ecc592c2bb9","branch_id":"525606759b734d29abb088326e14abca","id":"102f3a3242af41ffb0ffa8d68a0e5b7a","name":"525606759b734d29abb088326e14abca"},{"type":"Edge","source_node_id":"cdd0db28e6b845d2a2528b966bb6969b","target_node_id":"8ecacceb71a546b2a14b2ba320f187b6","branch_id":"b9360beaab9947babcadd388bb97a3b3","id":"53c20337e49a468eae37e94e0ffbadf7","name":"b9360beaab9947babcadd388bb97a3b3"}],"id":"primary"}],"script_variables":[{"type":"String","name":"LiveAgent_application","value":{"type":"String","mode":"string"},"id":"009ed40317f54a5294354f7dac1d7b22","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","table":"sys_user","id":"5b87adc8732a45faa2dfb551911b4648","name":"user","formatType":"text","secure":false,"sensitive":false},{"type":"Choice","choices":[{"name":"Legal","element":"legal"},{"name":"Facilities","element":"facilities"},{"name":"Human Resources","element":"hr"}],"id":"c65f61a0e1f04bfa9a244f31e44b33a3","name":"needit_type","formatType":"text","secure":false,"sensitive":false},{"type":"Reference","table":"x_58872_needit_needit","id":"3307e6d9c6d54213815c2197a536cb58","name":"needit_list","formatType":"text","secure":false,"sensitive":false},{"type":"True/False","id":"f8139632cc2c49c3b3f9bbce1fad3696","name":"search_again","formatType":"text","secure":false,"sensitive":false},{"type":"Date/Time","mode":"date","id":"b954831361764eb0bf19f8a6b7d12de4","name":"new_when_needed_date","formatType":"text","secure":false,"sensitive":false},{"type":"Reference","table":"","id":"9f0127749a3244c4a315954cc3245866","name":"change_when_needed_date","formatType":"text","secure":false,"sensitive":false},{"type":"Choice","choices":[{"name":"Short Description","element":"short description"},{"name":"When needed date","element":"when needed date"},{"name":"Nothing","element":"nothing"},{"name":"Comment","element":"comment"}],"id":"ee1ff7d0d11a47b886b4a3d013fb2597","name":"what_do_you_need","formatType":"text","secure":false,"sensitive":false},{"type":"String","name":"new_the_short_description","id":"c7db3c72aa7542e9be40759237175985","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Reference","table":"x_58872_needit_needit","id":"b24d09ec4b4f4e1f94f77a47b15e7dbb","name":"update_short_description","formatType":"text","secure":false,"sensitive":false},{"type":"String","name":"leave_comment","id":"5e667a3521e84c72960ec5ce1e50acf3","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Reference","table":"x_58872_needit_needit","id":"fb3a5e07e9204eb9a2b540c60d2fc2aa","name":"leave_comment_on_ticket","formatType":"text","secure":false,"sensitive":false},{"type":"True/False","id":"f712dd83bd334f48828541011e1aefc3","name":"make_another_change","formatType":"text","secure":false,"sensitive":false}],"applicability":{"type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"84b8216a2fe43010d8fb2c6df699b60a","domain":"global","topic_type":"STANDARD","channels":[],"id":"fb37352e2fe43010d8fb2c6df699b625","name":"_PRVW__4ccc7a8b9a2030105adf60db8219408c","key_phrases":["Update NeedIt Records","View Open NeedIt Records","NeedIt Request","need something"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"design_categories":[{"name":null,"visible":false,"sysId":"62f82daa2fe43010d8fb2c6df699b63c"}],"triggerable_by_notification":false,"auto_resolution_enabled":false,"library":false,"nluMapping":"[]"}</design_definition>
        <design_topic_id>fb37352e2fe43010d8fb2c6df699b625</design_topic_id>
        <name>_PRVW__4ccc7a8b9a2030105adf60db8219408c</name>
        <sys_class_name>sys_cb_design_topic</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-06-09 17:29:44</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_id>c4cc36cf2f203010d8fb2c6df699b649</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>FlowTopic</sys_name>
        <sys_package display_value="NeedIt Virtual Agent Conversations" source="x_305234_needit_vi">84b8216a2fe43010d8fb2c6df699b60a</sys_package>
        <sys_policy/>
        <sys_scope display_value="NeedIt Virtual Agent Conversations">84b8216a2fe43010d8fb2c6df699b60a</sys_scope>
        <sys_update_name>sys_cb_design_topic_c4cc36cf2f203010d8fb2c6df699b649</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-06-09 17:29:44</sys_updated_on>
        <type>FlowTopic</type>
    </sys_cb_design_topic>
</record_update>
